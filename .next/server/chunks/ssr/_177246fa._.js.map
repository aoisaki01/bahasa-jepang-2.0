{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlos/Desktop/language/bahasa-jepang-2.0/app/dictionary/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, FormEvent } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n// import type { JishoWord } from '@/types/jisho';\r\nimport { ArrowRightLeft } from 'lucide-react';\r\nimport { JishoWord } from '../types/jisho';\r\n\r\ntype SearchResult = {\r\n  direction: 'ja-id';\r\n  wordData: JishoWord;\r\n  indonesian: string;\r\n} | {\r\n  direction: 'id-ja';\r\n  original: string;\r\n  jishoResults: JishoWord[];\r\n};\r\n\r\nexport default function DictionaryPage() {\r\n  const [keyword, setKeyword] = useState('');\r\n  const [result, setResult] = useState<SearchResult | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [direction, setDirection] = useState<'ja-id' | 'id-ja'>('ja-id');\r\n\r\n  const handleSearch = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!keyword) return;\r\n    setLoading(true);\r\n    setError(null);\r\n    setResult(null);\r\n\r\n    try {\r\n      if (direction === 'ja-id') {\r\n        // --- LOGIKA JEPANG -> INDONESIA (MENGGUNAKAN API TRANSLATE LAMA, SUDAH CUKUP BAIK UNTUK INI) ---\r\n        const jishoRes = await fetch(`/api/jisho/search?keyword=${encodeURIComponent(keyword)}`);\r\n        const { data } = await jishoRes.json();\r\n        if (!data || data.length === 0) throw new Error(\"Kata tidak ditemukan di kamus Jisho.\");\r\n        const wordData: JishoWord = data[0];\r\n\r\n        const englishMeaning = wordData.senses[0].english_definitions.join(', ');\r\n        const translateRes = await fetch(`/api/translate?text=${encodeURIComponent(englishMeaning)}&from=en&to=id`);\r\n        const { translation } = await translateRes.json();\r\n        \r\n        setResult({ direction: 'ja-id', wordData, indonesian: translation });\r\n\r\n      } else {\r\n        // --- LOGIKA BARU & AKURAT: INDONESIA -> JEPANG (MENGGUNAKAN GEMINI) ---\r\n        \r\n        // 1. Terjemahkan kata Indonesia ke Inggris menggunakan Gemini API baru kita\r\n        console.log(`Menerjemahkan \"${keyword}\" ke Inggris via Gemini...`);\r\n        const geminiTranslateRes = await fetch(`/api/dictionary/translate-word`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ text: keyword })\r\n        });\r\n\r\n        if (!geminiTranslateRes.ok) throw new Error(\"Gagal menghubungi layanan AI.\");\r\n\r\n        const geminiData = await geminiTranslateRes.json();\r\n        const englishKeyword = geminiData.translation;\r\n\r\n        if (!englishKeyword) throw new Error(\"AI tidak dapat menerjemahkan kata tersebut.\");\r\n        \r\n        // 2. Cari kata Inggris tersebut di Jisho\r\n        console.log(`Mencari padanan \"${englishKeyword}\" di Jisho...`);\r\n        const jishoRes = await fetch(`/api/jisho/search?keyword=${encodeURIComponent(englishKeyword)}`);\r\n        const { data: jishoResults } = await jishoRes.json();\r\n        if (!jishoResults || jishoResults.length === 0) throw new Error(`Tidak ditemukan padanan kata Jepang untuk \"${englishKeyword}\".`);\r\n\r\n        setResult({ direction: 'id-ja', original: keyword, jishoResults });\r\n      }\r\n\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Terjadi kesalahan\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const swapDirection = () => {\r\n    setDirection(prev => prev === 'ja-id' ? 'id-ja' : 'ja-id');\r\n    setKeyword('');\r\n    setResult(null);\r\n    setError(null);\r\n  }\r\n\r\n  // Sisa kode JSX di bawah ini tidak ada perubahan...\r\n  return (\r\n    <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className=\"flex flex-col items-center\">\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">Kamus Jepang - Indonesia</h1>\r\n        <p className=\"text-gray-500\">Cari kosakata dalam dua arah.</p>\r\n      </div>\r\n\r\n      <form onSubmit={handleSearch} className=\"flex items-center gap-2 mb-8\">\r\n        <input\r\n          type=\"text\"\r\n          value={keyword}\r\n          onChange={(e) => setKeyword(e.target.value)}\r\n          className=\"w-full sm:w-80 p-3 border rounded-lg\"\r\n          placeholder={direction === 'ja-id' ? \"Ketik kata Jepang...\" : \"Ketik kata Indonesia...\"}\r\n        />\r\n        <button type=\"button\" onClick={swapDirection} className=\"p-3 border rounded-lg hover:bg-gray-100\" aria-label=\"Tukar arah terjemahan\">\r\n          <ArrowRightLeft size={24} className=\"text-gray-600\"/>\r\n        </button>\r\n        <button type=\"submit\" className=\"bg-sky-500 text-white font-semibold px-6 py-3 rounded-lg\" disabled={loading}>\r\n          {loading ? '...' : 'Cari'}\r\n        </button>\r\n      </form>\r\n      \r\n      <div className=\"w-full max-w-2xl min-h-[200px]\">\r\n        <AnimatePresence>\r\n          {loading && <p className=\"text-center\">Mencari...</p>}\r\n          {error && <p className=\"text-center text-red-500\">{error}</p>}\r\n          {result && (\r\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"p-6 border rounded-lg bg-white space-y-4\">\r\n              {result.direction === 'ja-id' ? (\r\n                <>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Kata</p>\r\n                    <p className=\"text-4xl font-bold\">{result.wordData.japanese[0].word}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Cara Baca</p>\r\n                    <p className=\"text-2xl\">{result.wordData.japanese[0].reading}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Arti</p>\r\n                    <p className=\"text-xl font-semibold text-sky-700\">{result.indonesian}</p>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Kata Indonesia</p>\r\n                    <p className=\"text-2xl font-bold\">{result.original}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Hasil Terjemahan Jepang (dari Jisho)</p>\r\n                    <div className=\"space-y-3 mt-2\">\r\n                      {result.jishoResults.slice(0, 5).map((res, index) => (\r\n                        <div key={index} className=\"border-t pt-2\">\r\n                          <p className=\"text-2xl font-semibold text-sky-700\">{res.japanese[0].word} <span className=\"text-lg text-gray-500\">({res.japanese[0].reading})</span></p>\r\n                          <p className=\"text-gray-600\">{res.senses[0].english_definitions.join(', ')}</p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"file":"arrow-right-left.js","sources":["file:///C:/Users/Carlos/Desktop/language/bahasa-jepang-2.0/node_modules/lucide-react/src/icons/arrow-right-left.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 3 4 4-4 4', key: '1x1c3m' }],\n  ['path', { d: 'M20 7H4', key: 'zbl0bi' }],\n  ['path', { d: 'm8 21-4-4 4-4', key: 'h9nckh' }],\n  ['path', { d: 'M4 17h16', key: 'g4d7ey' }],\n];\n\n/**\n * @component @name ArrowRightLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMyA0IDQtNCA0IiAvPgogIDxwYXRoIGQ9Ik0yMCA3SDQiIC8+CiAgPHBhdGggZD0ibTggMjEtNC00IDQtNCIgLz4KICA8cGF0aCBkPSJNNCAxN2gxNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-right-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRightLeft = createLucideIcon('arrow-right-left', __iconNode);\n\nexport default ArrowRightLeft;\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;IAC9C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;IACxC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;IAC9C;QAAC,CAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAE;YAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAY,CAAA;YAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAU,CAAA;KAAA;CAC3C;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,cAAA,CAAiB,CAAA,wKAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAjB,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAoB,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","ignoreList":[0],"debugId":null}}]
}