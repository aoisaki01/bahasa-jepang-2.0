(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{760:(e,t,n)=>{"use strict";n.d(t,{N:()=>y});var s=n(5155),r=n(2115),a=n(869),i=n(2885),l=n(7494),o=n(845),c=n(7351),d=n(1508);class h extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:n,anchorX:a,root:i}=e,l=(0,r.useId)(),o=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,r.useContext)(d.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:r,right:d}=c.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=l;let h=document.createElement("style");u&&(h.nonce=u);let m=null!=i?i:document.head;return m.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===a?"left: ".concat(r):"right: ".concat(d),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{m.removeChild(h),m.contains(h)&&m.removeChild(h)}},[n]),(0,s.jsx)(h,{isPresent:n,childRef:o,sizeRef:c,children:r.cloneElement(t,{ref:o})})}let m=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:h,anchorX:m,root:f}=e,x=(0,i.M)(p),g=(0,r.useId)(),y=!0,j=(0,r.useMemo)(()=>(y=!1,{id:g,initial:n,isPresent:a,custom:c,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;l&&l()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[a,x,l]);return d&&y&&(j={...j}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[a]),r.useEffect(()=>{a||x.size||!l||l()},[a]),"popLayout"===h&&(t=(0,s.jsx)(u,{isPresent:a,anchorX:m,root:f,children:t})),(0,s.jsx)(o.t.Provider,{value:j,children:t})};function p(){return new Map}var f=n(2082);let x=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let y=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:h="sync",propagate:u=!1,anchorX:p="left",root:y}=e,[j,N]=(0,f.xQ)(u),b=(0,r.useMemo)(()=>g(t),[t]),v=u&&!j?[]:b.map(x),w=(0,r.useRef)(!0),E=(0,r.useRef)(b),P=(0,i.M)(()=>new Map),[k,C]=(0,r.useState)(b),[S,R]=(0,r.useState)(b);(0,l.E)(()=>{w.current=!1,E.current=b;for(let e=0;e<S.length;e++){let t=x(S[e]);v.includes(t)?P.delete(t):!0!==P.get(t)&&P.set(t,!1)}},[S,v.length,v.join("-")]);let M=[];if(b!==k){let e=[...b];for(let t=0;t<S.length;t++){let n=S[t],s=x(n);v.includes(s)||(e.splice(t,0,n),M.push(n))}return"wait"===h&&M.length&&(e=M),R(g(e)),C(b),null}let{forceRender:T}=(0,r.useContext)(a.L);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let t=x(e),r=(!u||!!j)&&(b===S||v.includes(t));return(0,s.jsx)(m,{isPresent:r,initial:(!w.current||!!o)&&void 0,custom:n,presenceAffectsLayout:d,mode:h,root:y,onExitComplete:r?void 0:()=>{if(!P.has(t))return;P.set(t,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(null==T||T(),R(E.current),u&&(null==N||N()),c&&c())},anchorX:p,children:e},t)})})}},2403:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var s=n(5155),r=n(2115),a=n(6408),i=n(760);let l=["N5","N4","N3","N2","N1"];function o(){let[e,t]=(0,r.useState)("N5"),[n,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[h,u]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{d(!0),u(null),o([]);try{let t=await fetch("/api/generate/grammar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({level:e})});if(!t.ok){let n=await t.json();throw Error(n.error||"Gagal memuat materi ".concat(e,"."))}let n=await t.json();o(n)}catch(e){console.error("Gagal mengambil data grammar:",e),u(e instanceof Error?e.message:"Terjadi kesalahan.")}finally{d(!1)}})()},[e]),(0,s.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Pola Kalimat (文法)"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Pilih level JLPT untuk melihat materi tata bahasa."})]}),(0,s.jsx)("div",{className:"flex border-b border-gray-200 mb-8 justify-center",children:l.map(n=>(0,s.jsxs)("button",{onClick:()=>t(n),className:"px-4 py-2 text-lg font-medium transition-colors relative\n              ".concat(e===n?"text-sky-600":"text-gray-500 hover:text-sky-600"),children:[n,e===n&&(0,s.jsx)(a.P.div,{layoutId:"underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-sky-600"})]},n))}),(0,s.jsxs)("div",{className:"space-y-6 min-h-[300px]",children:[c&&(0,s.jsx)("div",{className:"text-center text-gray-500",children:"Wait Tunggu Sebentar"}),h&&(0,s.jsxs)("p",{className:"text-center text-red-500",children:["Error: ",h]}),!c&&!h&&n.length>0&&(0,s.jsx)(i.N,{mode:"wait",children:(0,s.jsx)(a.P.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2},children:n.map((e,t)=>(0,s.jsxs)("div",{className:"p-6 border rounded-lg bg-white mb-4 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.title}),(0,s.jsx)("p",{className:"text-sky-700 font-semibold mb-4",children:e.meaning}),(0,s.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"font-medium text-gray-900",children:"Bentuk:"})," ",e.formation]}),(0,s.jsxs)("p",{className:"whitespace-pre-wrap",children:[(0,s.jsx)("strong",{className:"font-medium text-gray-900",children:"Contoh:"}),"\n".concat(e.example)]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{className:"font-medium text-gray-900",children:"Penjelasan:"})," ",e.explanation]})]})]},t))},e)})]})]})}},3877:(e,t,n)=>{Promise.resolve().then(n.bind(n,2403))}},e=>{var t=t=>e(e.s=t);e.O(0,[408,441,684,358],()=>t(3877)),_N_E=e.O()}]);