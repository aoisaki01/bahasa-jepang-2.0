(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{760:(e,t,r)=>{"use strict";r.d(t,{N:()=>b});var n=r(5155),s=r(2115),l=r(869),a=r(2885),i=r(7494),o=r(845),c=r(7351),d=r(1508);class u extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r,anchorX:l,root:a}=e,i=(0,s.useId)(),o=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,s.useContext)(d.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:s,right:d}=c.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");h&&(u.nonce=h);let m=null!=a?a:document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(s):"right: ".concat(d),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{m.removeChild(u),m.contains(u)&&m.removeChild(u)}},[r]),(0,n.jsx)(u,{isPresent:r,childRef:o,sizeRef:c,children:s.cloneElement(t,{ref:o})})}let m=e=>{let{children:t,initial:r,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:d,mode:u,anchorX:m,root:x}=e,f=(0,a.M)(p),g=(0,s.useId)(),b=!0,j=(0,s.useMemo)(()=>(b=!1,{id:g,initial:r,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;i&&i()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[l,f,i]);return d&&b&&(j={...j}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[l]),s.useEffect(()=>{l||f.size||!i||i()},[l]),"popLayout"===u&&(t=(0,n.jsx)(h,{isPresent:l,anchorX:m,root:x,children:t})),(0,n.jsx)(o.t.Provider,{value:j,children:t})};function p(){return new Map}var x=r(2082);let f=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:h=!1,anchorX:p="left",root:b}=e,[j,v]=(0,x.xQ)(h),N=(0,s.useMemo)(()=>g(t),[t]),w=h&&!j?[]:N.map(f),y=(0,s.useRef)(!0),k=(0,s.useRef)(N),C=(0,a.M)(()=>new Map),[A,E]=(0,s.useState)(N),[S,T]=(0,s.useState)(N);(0,i.E)(()=>{y.current=!1,k.current=N;for(let e=0;e<S.length;e++){let t=f(S[e]);w.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,w.length,w.join("-")]);let M=[];if(N!==A){let e=[...N];for(let t=0;t<S.length;t++){let r=S[t],n=f(r);w.includes(n)||(e.splice(t,0,r),M.push(r))}return"wait"===u&&M.length&&(e=M),T(g(e)),E(N),null}let{forceRender:P}=(0,s.useContext)(l.L);return(0,n.jsx)(n.Fragment,{children:S.map(e=>{let t=f(e),s=(!h||!!j)&&(N===S||w.includes(t));return(0,n.jsx)(m,{isPresent:s,initial:(!y.current||!!o)&&void 0,custom:r,presenceAffectsLayout:d,mode:u,root:b,onExitComplete:s?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),T(k.current),h&&(null==v||v()),c&&c())},anchorX:p,children:e},t)})})}},2978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5155),s=r(2115),l=r(760),a=r(6408);let i=(0,r(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var o=r(4416);function c(){let[e,t]=(0,s.useState)("setup"),[r,c]=(0,s.useState)("N5"),[d,u]=(0,s.useState)("bunpo"),[h,m]=(0,s.useState)(10),[p,x]=(0,s.useState)([]),[f,g]=(0,s.useState)([]),[b,j]=(0,s.useState)(0),[v,N]=(0,s.useState)(!1),w=async()=>{N(!0);try{let e=await fetch("/api/test/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({level:r,numQuestions:h,testMode:d})});if(!e.ok){let t=await e.json();throw Error(t.error||"Gagal membuat soal.")}let n=await e.json();x(n),g(Array(n.length).fill(null)),t("active"),j(0)}catch(e){alert(e instanceof Error?e.message:"Terjadi kesalahan")}finally{N(!1)}},y=e=>{let t=[...f];t[b]=e,g(t)},k=p.reduce((e,t,r)=>f[r]===t.correctAnswer?e+1:e,0);if("setup"===e)return(0,n.jsxs)("div",{className:"text-center max-w-lg mx-auto",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Mulai Tes JLPT"}),(0,n.jsx)("p",{className:"text-gray-500 mb-8",children:"Uji pengetahuan Anda. Pilih tipe soal, level, dan jumlah soal untuk memulai."}),(0,n.jsxs)("div",{className:"space-y-6 bg-white p-8 rounded-lg border",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"testMode",className:"block text-left font-medium mb-1",children:"Tipe Soal"}),(0,n.jsxs)("select",{id:"testMode",value:d,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,n.jsx)("option",{value:"bunpo",children:"Tata Bahasa (Bunpo)"}),(0,n.jsx)("option",{value:"particle",children:"Isi Partikel"}),(0,n.jsx)("option",{value:"jp-id",children:"Terjemahan (Jepang - ID)"}),(0,n.jsx)("option",{value:"id-ja",children:"Terjemahan (ID - Jepang)"}),(0,n.jsx)("option",{value:"kanji-reading",children:"Tes Kanji (Cara Baca)"}),(0,n.jsx)("option",{value:"kanji-meaning",children:"Tes Kanji (Arti)"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"level",className:"block text-left font-medium mb-1",children:"Level"}),(0,n.jsxs)("select",{id:"level",value:r,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,n.jsx)("option",{children:"N5"}),(0,n.jsx)("option",{children:"N4"}),(0,n.jsx)("option",{children:"N3"}),(0,n.jsx)("option",{children:"N2"}),(0,n.jsx)("option",{children:"N1"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"numQuestions",className:"block text-left font-medium mb-1",children:["Jumlah Soal (",h,")"]}),(0,n.jsx)("input",{type:"range",id:"numQuestions",min:"1",max:"20",value:h,onChange:e=>m(Number(e.target.value)),className:"w-full"})]}),(0,n.jsx)("button",{onClick:w,disabled:v,className:"w-full bg-sky-500 text-white font-bold py-3 rounded-lg hover:bg-sky-600 disabled:bg-gray-400",children:v?"Membuat Soal...":"Mulai Tes"})]})]});if("finished"===e)return(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsxs)("div",{className:"text-center bg-white p-6 rounded-lg border mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Hasil Tes"}),(0,n.jsxs)("p",{className:"text-5xl font-bold my-4",children:[Math.round(k/p.length*100),"%"]}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Anda menjawab benar ",k," dari ",p.length," soal."]}),(0,n.jsx)("button",{onClick:()=>{t("setup"),x([]),g([])},className:"mt-6 bg-sky-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-sky-600",children:"Ulangi Tes"})]}),p.map((e,t)=>(0,n.jsxs)("div",{className:"p-4 border rounded-lg mb-4 ".concat(f[t]===e.correctAnswer?"border-green-300 bg-green-50":"border-red-300 bg-red-50"),children:[(0,n.jsxs)("p",{className:"font-semibold",children:[t+1,". ",e.question]}),(0,n.jsxs)("p",{className:"mt-2 ".concat(f[t]===e.correctAnswer?"text-green-800":"text-red-800"),children:["Jawaban Anda: ",f[t]||"(Tidak dijawab)"," ",f[t]===e.correctAnswer?(0,n.jsx)(i,{className:"inline-block",size:16}):(0,n.jsx)(o.A,{className:"inline-block",size:16})]}),f[t]!==e.correctAnswer&&(0,n.jsxs)("p",{className:"text-green-800",children:["Jawaban Benar: ",e.correctAnswer]}),(0,n.jsx)("div",{className:"mt-3 pt-3 border-t border-dashed",children:(0,n.jsx)("p",{className:"text-sm text-gray-700",children:e.explanation})})]},t))]});let C=p[b];return(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsx)("div",{className:"text-center mb-4",children:(0,n.jsxs)("p",{className:"text-gray-500",children:["Soal ",b+1," dari ",p.length]})}),(0,n.jsx)(l.N,{mode:"wait",children:(0,n.jsx)(a.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2},children:(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg border",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:C.question}),(0,n.jsx)("div",{className:"space-y-3",children:C.options.map(e=>(0,n.jsx)("button",{onClick:()=>y(e),className:"w-full text-left p-4 border rounded-lg transition-colors ".concat(f[b]===e?"bg-sky-500 border-sky-500 text-white":"hover:bg-gray-100"),children:e},e))})]})},b)}),(0,n.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,n.jsx)("button",{onClick:()=>{b<p.length-1&&j(e=>e+1)},disabled:b===p.length-1,className:"bg-gray-200 px-6 py-2 rounded-lg disabled:opacity-50",children:"Berikutnya"}),b===p.length-1&&(0,n.jsx)("button",{onClick:()=>{t("finished")},className:"bg-green-500 text-white font-bold px-8 py-2 rounded-lg hover:bg-green-600",children:"Selesai & Lihat Hasil"})]})]})}},4416:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4962:(e,t,r)=>{Promise.resolve().then(r.bind(r,2978))},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),a=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:d="",children:u,iconNode:h,...m}=e;return(0,n.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:a?24*Number(l)/Number(s):l,className:i("lucide",d),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,n.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(s(a(e))),"lucide-".concat(e),o),...c})});return r.displayName=a(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[408,441,684,358],()=>t(4962)),_N_E=e.O()}]);