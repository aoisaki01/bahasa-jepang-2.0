(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{760:(e,t,n)=>{"use strict";n.d(t,{N:()=>j});var a=n(5155),s=n(2115),l=n(869),r=n(2885),i=n(7494),o=n(845),c=n(7351),d=n(1508);class u extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,c.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:n,anchorX:l,root:r}=e,i=(0,s.useId)(),o=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,s.useContext)(d.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:s,right:d}=c.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");h&&(u.nonce=h);let f=null!=r?r:document.head;return f.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(s):"right: ".concat(d),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{f.removeChild(u),f.contains(u)&&f.removeChild(u)}},[n]),(0,a.jsx)(u,{isPresent:n,childRef:o,sizeRef:c,children:s.cloneElement(t,{ref:o})})}let f=e=>{let{children:t,initial:n,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:d,mode:u,anchorX:f,root:m}=e,x=(0,r.M)(p),g=(0,s.useId)(),j=!0,v=(0,s.useMemo)(()=>(j=!1,{id:g,initial:n,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;i&&i()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[l,x,i]);return d&&j&&(v={...v}),(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),s.useEffect(()=>{l||x.size||!i||i()},[l]),"popLayout"===u&&(t=(0,a.jsx)(h,{isPresent:l,anchorX:f,root:m,children:t})),(0,a.jsx)(o.t.Provider,{value:v,children:t})};function p(){return new Map}var m=n(2082);let x=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let j=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:h=!1,anchorX:p="left",root:j}=e,[v,y]=(0,m.xQ)(h),b=(0,s.useMemo)(()=>g(t),[t]),N=h&&!v?[]:b.map(x),w=(0,s.useRef)(!0),k=(0,s.useRef)(b),C=(0,r.M)(()=>new Map),[E,M]=(0,s.useState)(b),[S,P]=(0,s.useState)(b);(0,i.E)(()=>{w.current=!1,k.current=b;for(let e=0;e<S.length;e++){let t=x(S[e]);N.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,N.length,N.join("-")]);let R=[];if(b!==E){let e=[...b];for(let t=0;t<S.length;t++){let n=S[t],a=x(n);N.includes(a)||(e.splice(t,0,n),R.push(n))}return"wait"===u&&R.length&&(e=R),P(g(e)),M(b),null}let{forceRender:I}=(0,s.useContext)(l.L);return(0,a.jsx)(a.Fragment,{children:S.map(e=>{let t=x(e),s=(!h||!!v)&&(b===S||N.includes(t));return(0,a.jsx)(f,{isPresent:s,initial:(!w.current||!!o)&&void 0,custom:n,presenceAffectsLayout:d,mode:u,root:j,onExitComplete:s?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),P(k.current),h&&(null==y||y()),c&&c())},anchorX:p,children:e},t)})})}},1215:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(5155),s=n(2115),l=n(6408),r=n(760);function i(e){let{word:t,language:n}=e,[l,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)("Memuat...");return(0,s.useEffect)(()=>{r(!1),(async()=>{if("en"===n)o(t.meaning);else{o("Menerjemahkan...");try{let e=await fetch("/api/translate?text=".concat(encodeURIComponent(t.meaning))),n=await e.json();if(n.translation)o(n.translation);else throw Error("Gagal mendapatkan terjemahan.")}catch(e){console.error(e),o("Gagal menerjemahkan.")}}})()},[t,n]),(0,a.jsx)("div",{className:"w-full h-64 [perspective:1000px] cursor-pointer",onClick:()=>r(!l),children:(0,a.jsxs)("div",{className:"relative w-full h-full [transform-style:preserve-3d] transition-transform duration-700",style:{transform:l?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,a.jsx)("div",{className:"absolute w-full h-full border rounded-xl flex items-center justify-center p-4 [backface-visibility:hidden]",children:(0,a.jsx)("h2",{className:"text-5xl font-bold text-center",children:t.word})}),(0,a.jsxs)("div",{className:"absolute w-full h-full border bg-gray-50 rounded-xl flex flex-col items-center justify-center p-4 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:[(0,a.jsx)("p",{className:"text-3xl font-semibold mb-3",children:t.reading}),(0,a.jsx)("p",{className:"text-lg text-center text-gray-600 px-4",children:i})]})]})})}function o(){let[e,t]=(0,s.useState)("n5"),[n,o]=(0,s.useState)("id"),[d,u]=(0,s.useState)([]),[h,f]=(0,s.useState)(1),[p,m]=(0,s.useState)(0),[x,g]=(0,s.useState)(!0),[j,v]=(0,s.useState)(!1),y=(0,s.useCallback)(async(e,t)=>{1===t?g(!0):v(!0);try{let n=await fetch("/api/words/".concat(e,"?page=").concat(t)),a=await n.json();if(a&&a.length>0){let e=c(a);1===t?u(e):u(t=>[...t,...e])}else t>1&&alert("Sudah mencapai akhir kata untuk halaman ini.")}catch(e){console.error("Gagal mengambil kosakata:",e)}finally{g(!1),v(!1)}},[]);(0,s.useEffect)(()=>{f(1),m(0),y(e,1)},[e,y]);let b=()=>{let t=h+1;f(t),y(e,t)},N=d[p];return(0,a.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Flashcard Kosakata Acak"}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center items-center gap-4",children:[(0,a.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"p-2 rounded-md border bg-white",children:[(0,a.jsx)("option",{value:"n5",children:"N5"}),(0,a.jsx)("option",{value:"n4",children:"N4"}),(0,a.jsx)("option",{value:"n3",children:"N3"}),(0,a.jsx)("option",{value:"n2",children:"N2"}),(0,a.jsx)("option",{value:"n1",children:"N1"})]}),(0,a.jsxs)("div",{className:"flex rounded-md border p-1 bg-gray-100",children:[(0,a.jsx)("button",{onClick:()=>o("id"),className:"px-3 py-1 text-sm rounded ".concat("id"===n?"bg-white shadow":"text-gray-500"),children:"ID"}),(0,a.jsx)("button",{onClick:()=>o("en"),className:"px-3 py-1 text-sm rounded ".concat("en"===n?"bg-white shadow":"text-gray-500"),children:"EN"})]})]})]}),(0,a.jsxs)("div",{className:"relative h-72 flex items-center justify-center",children:[x&&(0,a.jsx)("p",{children:"Memuat..."}),!x&&N&&(0,a.jsx)(r.N,{children:(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute w-full max-w-xl",children:(0,a.jsx)(i,{word:N,language:n})},p)})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-8",children:[(0,a.jsx)("button",{onClick:()=>m(e=>e-1),disabled:0===p,className:"bg-gray-200 px-6 py-2 rounded-lg disabled:opacity-50",children:"Prev"}),(0,a.jsx)("p",{className:"text-gray-500 w-24 text-center",children:d.length>0?"".concat(p+1," / ?"):"0 / 0"}),(0,a.jsx)("button",{onClick:()=>{p<d.length-1?m(e=>e+1):b()},className:"bg-sky-500 text-white px-6 py-2 rounded-lg",disabled:j,children:j?"Memuat...":"Next / Muat Lagi"})]})]})}let c=e=>{let t=e.length,n,a=[...e];for(;0!==t;)n=Math.floor(Math.random()*t),t--,[a[t],a[n]]=[a[n],a[t]];return a}},3419:(e,t,n)=>{Promise.resolve().then(n.bind(n,1215))}},e=>{var t=t=>e(e.s=t);e.O(0,[408,441,684,358],()=>t(3419)),_N_E=e.O()}]);