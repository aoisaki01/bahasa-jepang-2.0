(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{760:(e,t,r)=>{"use strict";r.d(t,{N:()=>j});var n=r(5155),a=r(2115),l=r(869),s=r(2885),i=r(7494),o=r(845),c=r(7351),d=r(1508);class u extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r,anchorX:l,root:s}=e,i=(0,a.useId)(),o=(0,a.useRef)(null),c=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,a.useContext)(d.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:a,right:d}=c.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");h&&(u.nonce=h);let f=null!=s?s:document.head;return f.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(a):"right: ".concat(d),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{f.removeChild(u),f.contains(u)&&f.removeChild(u)}},[r]),(0,n.jsx)(u,{isPresent:r,childRef:o,sizeRef:c,children:a.cloneElement(t,{ref:o})})}let f=e=>{let{children:t,initial:r,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:d,mode:u,anchorX:f,root:m}=e,x=(0,s.M)(p),g=(0,a.useId)(),j=!0,y=(0,a.useMemo)(()=>(j=!1,{id:g,initial:r,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;i&&i()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[l,x,i]);return d&&j&&(y={...y}),(0,a.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),a.useEffect(()=>{l||x.size||!i||i()},[l]),"popLayout"===u&&(t=(0,n.jsx)(h,{isPresent:l,anchorX:f,root:m,children:t})),(0,n.jsx)(o.t.Provider,{value:y,children:t})};function p(){return new Map}var m=r(2082);let x=e=>e.key||"";function g(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let j=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:h=!1,anchorX:p="left",root:j}=e,[y,v]=(0,m.xQ)(h),w=(0,a.useMemo)(()=>g(t),[t]),b=h&&!y?[]:w.map(x),N=(0,a.useRef)(!0),k=(0,a.useRef)(w),C=(0,s.M)(()=>new Map),[E,M]=(0,a.useState)(w),[S,P]=(0,a.useState)(w);(0,i.E)(()=>{N.current=!1,k.current=w;for(let e=0;e<S.length;e++){let t=x(S[e]);b.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,b.length,b.join("-")]);let R=[];if(w!==E){let e=[...w];for(let t=0;t<S.length;t++){let r=S[t],n=x(r);b.includes(n)||(e.splice(t,0,r),R.push(r))}return"wait"===u&&R.length&&(e=R),P(g(e)),M(w),null}let{forceRender:L}=(0,a.useContext)(l.L);return(0,n.jsx)(n.Fragment,{children:S.map(e=>{let t=x(e),a=(!h||!!y)&&(w===S||b.includes(t));return(0,n.jsx)(f,{isPresent:a,initial:(!N.current||!!o)&&void 0,custom:r,presenceAffectsLayout:d,mode:u,root:j,onExitComplete:a?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==L||L(),P(k.current),h&&(null==v||v()),c&&c())},anchorX:p,children:e},t)})})}},2592:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5155),a=r(2115),l=r(6408),s=r(760),i=r(8222);let o=(0,r(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function c(e){let{word:t,language:r,isMarked:l,onMark:s}=e,[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)("Memuat...");return(0,a.useEffect)(()=>{c(!1),(async()=>{if("en"===r)u(t.meaning);else{u("Menerjemahkan...");try{let e=await fetch("/api/translate?text=".concat(encodeURIComponent(t.meaning))),r=await e.json();u(r.translation||"Gagal menerjemahkan.")}catch(e){u("Gagal menerjemahkan.")}}})()},[t,r]),(0,n.jsxs)("div",{className:"w-full h-64 [perspective:1000px] cursor-pointer group",onClick:()=>c(!i),children:[(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),s()},className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-yellow-400 z-20","aria-label":"Tandai kata",children:(0,n.jsx)(o,{size:28,className:"transition-all",fill:l?"rgb(250 204 21)":"none",stroke:l?"rgb(250 204 21)":"currentColor"})}),(0,n.jsxs)("div",{className:"relative w-full h-full [transform-style:preserve-3d] transition-transform duration-700",style:{transform:i?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,n.jsx)("div",{className:"absolute w-full h-full border rounded-xl flex items-center justify-center p-4 [backface-visibility:hidden]",children:(0,n.jsx)("h2",{className:"text-5xl font-bold text-center",children:t.word})}),(0,n.jsxs)("div",{className:"absolute w-full h-full border bg-gray-50 rounded-xl flex flex-col items-center justify-center p-4 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:[(0,n.jsx)("p",{className:"text-3xl font-semibold mb-3",children:t.reading}),(0,n.jsx)("p",{className:"text-lg text-center text-gray-600 px-4",children:d})]})]})]})}let d=e=>{let t=e.length,r,n=[...e];for(;0!==t;)r=Math.floor(Math.random()*t),t--,[n[t],n[r]]=[n[r],n[t]];return n};function u(){let[e,t]=(0,a.useState)("n5"),[r,o]=(0,a.useState)("id"),[u,h]=(0,a.useState)([]),[f,p]=(0,a.useState)(1),[m,x]=(0,a.useState)(0),[g,j]=(0,a.useState)(!0),[y,v]=(0,a.useState)(!1),[w,b]=(0,i.M)("markedWords",[]),N=(0,a.useCallback)(async(e,t)=>{1===t?j(!0):v(!0);try{let r=await fetch("/api/words/".concat(e,"?page=").concat(t)),n=await r.json();if(n&&n.length>0){let e=d(n);1===t?h(e):h(t=>[...t,...e])}else t>1&&alert("Sudah mencapai akhir kata.")}catch(e){console.error("Gagal mengambil kosakata:",e)}finally{j(!1),v(!1)}},[]);(0,a.useEffect)(()=>{p(1),x(0),N(e,1)},[e,N]);let k=()=>{let t=f+1;p(t),N(e,t)},C=e=>{(null==e?void 0:e.slug)&&b(t=>t.some(t=>t.slug===e.slug)?t.filter(t=>t.slug!==e.slug):[...t,e])},E=u[m],M=!!E&&w.some(e=>e.slug===E.slug);return(0,n.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold",children:"Flashcard Kosakata Acak"}),(0,n.jsxs)("div",{className:"mt-4 flex justify-center items-center gap-4",children:[(0,n.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"p-2 rounded-md border bg-white",children:[(0,n.jsx)("option",{value:"n5",children:"N5"}),(0,n.jsx)("option",{value:"n4",children:"N4"}),(0,n.jsx)("option",{value:"n3",children:"N3"}),(0,n.jsx)("option",{value:"n2",children:"N2"}),(0,n.jsx)("option",{value:"n1",children:"N1"})]}),(0,n.jsxs)("div",{className:"flex rounded-md border p-1 bg-gray-100",children:[(0,n.jsx)("button",{onClick:()=>o("id"),className:"px-3 py-1 text-sm rounded ".concat("id"===r?"bg-white shadow":"text-gray-500"),children:"ID"}),(0,n.jsx)("button",{onClick:()=>o("en"),className:"px-3 py-1 text-sm rounded ".concat("en"===r?"bg-white shadow":"text-gray-500"),children:"EN"})]})]})]}),(0,n.jsxs)("div",{className:"relative h-72 flex items-center justify-center",children:[g&&(0,n.jsx)("p",{children:"Memuat..."}),!g&&E&&(0,n.jsx)(s.N,{children:(0,n.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute w-full max-w-xl",children:(0,n.jsx)(c,{word:E,language:r,isMarked:M,onMark:()=>C(E)})},m)})]}),(0,n.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-8",children:[(0,n.jsx)("button",{onClick:()=>x(e=>e-1),disabled:0===m,className:"bg-gray-200 px-6 py-2 rounded-lg disabled:opacity-50",children:"Prev"}),(0,n.jsx)("p",{className:"text-gray-500 w-24 text-center",children:u.length>0?"".concat(m+1," / ?"):"0 / 0"}),(0,n.jsx)("button",{onClick:()=>{m<u.length-1?x(e=>e+1):k()},className:"bg-sky-500 text-white px-6 py-2 rounded-lg",disabled:y,children:y?"Memuat...":"Next / Muat Lagi"})]})]})}},3419:(e,t,r)=>{Promise.resolve().then(r.bind(r,2592))},8222:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(2115);function a(e,t){let[r,a]=(0,n.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.error(e),t}});return(0,n.useEffect)(()=>{try{let t=JSON.stringify(r);window.localStorage.setItem(e,t)}catch(e){console.error(e)}},[e,r]),[r,a]}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),s=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:d="",children:u,iconNode:h,...f}=e;return(0,n.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:s?24*Number(l)/Number(a):l,className:i("lucide",d),...!u&&!o(f)&&{"aria-hidden":"true"},...f},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,n.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(a(s(e))),"lucide-".concat(e),o),...c})});return r.displayName=s(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[408,441,684,358],()=>t(3419)),_N_E=e.O()}]);